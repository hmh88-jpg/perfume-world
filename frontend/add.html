<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>إضافة عطر</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>

<div class="container">
  <h1>➕ إضافة عطر جديد</h1>

  <form id="perfumeForm" class="form">
    <input type="text" id="name" placeholder="اسم العطر" required>

    <input type="number" id="price" placeholder="السعر" required>

    <input type="text" id="image" placeholder="رابط صورة العطر">

    <select id="rating" required>
      <option value="">اختر التقييم</option>
      <option>ممتاز</option>
      <option>جيد</option>
      <option>سيء</option>
    </select>

    <textarea id="description" placeholder="وصف العطر" required></textarea>

    <button type="submit" class="btn">إضافة العطر</button>
  </form>

  <p id="msg"></p>

  <a href="index.html" class="btn secondary">⬅️ الرجوع للرئيسية</a>
</div>

<script>
document.getElementById("perfumeForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const perfume = {
    name: name.value,
    price: price.value,
    image: image.value,
    rating: rating.value,
    description: description.value
  };

  const res = await fetch("/api/perfumes", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(perfume)
  });

  msg.innerText = res.ok ? "✅ تم إضافة العطر" : "❌ حصل خطأ";
  if (res.ok) this.reset();
});
</script>

</body>
</html>



